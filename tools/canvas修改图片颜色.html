<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<canvas id="canvas" width="376" height="311"></canvas>
<img id="load" src="" alt="">
</body>
</html>

<script>
  const load = document.getElementById('load')
  const ctx = document.getElementById('canvas')
  const c = ctx.getContext('2d')

  function loadImg(path) {
    const img = new Image()
    img.onload = function () {
      c.drawImage(img, 0, 0)
      countData(img)
    }

    img.src = path;
  }

  function countData(img) {
    const imgData = c.getImageData(0, 0, img.width, img.height)
    const data = imgData.data
    for (let i = 0; i < data.length; i += 4) {
      if (data[i] > 200 && data[i + 1] > 200 && data[i + 2] > 200) {
        data[i + 3] = 0
      }
    }
    c.putImageData(imgData, 0, 0)
    load.src = ctx.toDataURL('image/png', 1)
  }

  loadImg('./img/realEstate.png')
</script>
